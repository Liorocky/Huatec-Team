<!DOCTYPE html>
<html>

	<head>
		<meta charset="utf-8">
		<title>实时票房</title>
		<script src="https://apps.bdimg.com/libs/jquery/2.1.4/jquery.min.js"></script>
		<script src="http://echarts.baidu.com/dist/echarts.js"></script>
	</head>

	<body>
		<div id="DXY" style="width: 800px;height: 400px;"></div>
		<script>
			function myZy(text) {
				var x = [];
				var y = [];
				for(var i = 0; i < text.data.length; i++) {
					x.push(text.data[i].MovieName);
					y.push(text.data[i].BoxOffice);
				}
				var myChart = echarts.init(document.getElementById('DXY'));
				var option = {
					title: {
						text: '实时票房'
					},
					color: ['#3398DB'],
   					tooltip : {
    				 trigger: 'axis',
     					axisPointer : {      // 坐标轴指示器，坐标轴触发有效
      					 type : 'shadow'    // 默认为直线，可选为：'line' | 'shadow'
    							 		}
  								 },
   					grid: {
    				 left: '3%',
    				 right: '4%',
    				 bottom: '3%',
     					containLabel: true
  						 },
					xAxis: {
						data: x,
						axisLabel: {
							interval: 0,
							rotate: -25
						}
					},
					yAxis: {},
					series: [{
						name: '金额/万元',
						type: 'bar',
						data: y,
					}]
				};
				
				myChart.setOption(option);
			};
			function json() {
				$.ajax({
					type: "get",
					url: "http://api.shenjian.io/",
					data: {
						appid: "dd648129b0e17057b8901c27f4a88021"
					},
					dataType: "jsonp",
					success: function(data) {
						myZy(data)
					}
				});
			};
			json();
		</script>
	</body>

</html>